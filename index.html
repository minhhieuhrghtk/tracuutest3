<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Tra c·ª©u b√†n ti·ªác</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background: linear-gradient(135deg, #dcfce7, #bbf7d0);
      min-height: 100vh;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      background: #ffffff;
      max-width: 600px;
      width: 100%;
      border-radius: 24px;
      box-shadow: 0 25px 50px rgba(0,0,0,0.15);
      overflow: hidden;
    }

    header {
      background: linear-gradient(135deg, #16a34a, #22c55e);
      color: white;
      padding: 24px;
      text-align: center;
    }

    header h3 { margin: 0; font-size: 22px; }
    header p { margin: 6px 0 0; font-size: 14px; opacity: 0.95; }

    .content { padding: 24px; }

    input, button {
      width: 100%;
      padding: 14px;
      font-size: 16px;
      border-radius: 14px;
      border: 1px solid #d1fae5;
      box-sizing: border-box;
    }

    input { margin-bottom: 10px; }

    button {
      background: linear-gradient(135deg, #16a34a, #4ade80);
      color: white;
      border: none;
      cursor: pointer;
      font-weight: 600;
    }

    .result {
      margin-top: 14px;
      padding: 12px;
      background: #ecfdf5;
      border-radius: 14px;
      text-align: center;
      font-size: 15px;
    }

    .error { color: #dc2626; }

    /* ===== S∆† ƒê·ªí S√ÇN KH·∫§U ===== */
    .hall { margin-top: 20px; }

    .stage {
      background: #15803d;
      color: white;
      text-align: center;
      padding: 10px;
      font-weight: 700;
      border-radius: 14px;
      letter-spacing: 1px;
    }

    .entrance {
      background: #facc15;
      text-align: center;
      padding: 10px;
      border-radius: 14px;
      margin-top: 18px;
      font-weight: 700;
    }

    .row {
      display: flex;
      align-items: center;
      margin: 18px 0;
    }

    .row-label {
      width: 70px;
      font-size: 13px;
      font-weight: 600;
      color: #166534;
    }

    .lanes {
      display: flex;
      flex: 1;
      justify-content: center;
      gap: 28px;
    }

    .table {
      width: 72px;
      height: 44px;
      background: #dcfce7;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      font-weight: 600;
      color: #166534;
      border: 2px solid transparent;
      transition: all 0.3s ease;
    }

    .table.highlight {
      background: #22c55e;
      color: white;
      border-color: #15803d;
      box-shadow: 0 0 20px rgba(34,197,94,0.9);
      animation: pulse 1.2s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.12); }
      100% { transform: scale(1); }
    }

    footer {
      text-align: center;
      padding: 14px;
      font-size: 12px;
      color: #166534;
      background: #f0fdf4;
    }
  </style>
</head>
<body>
<div class="container">
  <header>
    <h3>üåø Tra c·ª©u b√†n ti·ªác üåø</h3>
    <p>Nh·∫≠p t√™n ƒë·ªÉ xem v·ªã tr√≠ & s·ªë may m·∫Øn</p>
  </header>

  <div class="content">
    <input id="username" placeholder="V√≠ d·ª•: an, binh..." onkeydown="if(event.key==='Enter') traCuu()" />
    <button onclick="traCuu()">Tra c·ª©u</button>
    <div id="result" class="result"></div>

    <div class="hall">
      <div class="stage">S√ÇN KH·∫§U</div>

      <div class="row"><div class="row-label">H√ÄNG 1</div><div class="lanes">
        <div class="table" data-ban="3">3</div>
        <div class="table" data-ban="1">1</div>
        <div class="table" data-ban="2">2</div>
        <div class="table" data-ban="4">4</div>
      </div></div>

      <div class="row"><div class="row-label">H√ÄNG 2</div><div class="lanes">
        <div class="table" data-ban="5">5</div><div class="table" data-ban="6">6</div><div class="table" data-ban="7">7</div>
      </div></div>
      <div class="row"><div class="row-label">H√ÄNG 3</div><div class="lanes">
        <div class="table" data-ban="8">8</div><div class="table" data-ban="9">9</div><div class="table" data-ban="10">10</div>
      </div></div>
      <div class="row"><div class="row-label">H√ÄNG 4</div><div class="lanes">
        <div class="table" data-ban="11">11</div><div class="table" data-ban="12">12</div><div class="table" data-ban="13">13</div>
      </div></div>
      <div class="row"><div class="row-label">H√ÄNG 5</div><div class="lanes">
        <div class="table" data-ban="14">14</div><div class="table" data-ban="15">15</div><div class="table" data-ban="16">16</div>
      </div></div>
      <div class="row"><div class="row-label">H√ÄNG 6</div><div class="lanes">
        <div class="table" data-ban="17">17</div><div class="table" data-ban="18">18</div><div class="table" data-ban="19">19</div>
      </div></div>
      <div class="row"><div class="row-label">H√ÄNG 7</div><div class="lanes">
        <div class="table" data-ban="20">20</div><div class="table" data-ban="21">21</div><div class="table" data-ban="22">22</div>
      </div></div>
      <div class="row"><div class="row-label">H√ÄNG 8</div><div class="lanes">
        <div class="table" data-ban="23">23</div><div class="table" data-ban="24">24</div><div class="table" data-ban="25">25</div>
      </div></div>

      <div class="entrance">C·ª¨A RA V√ÄO</div>
    </div>
  </div>

  <footer>üíö Ch√∫c qu√Ω kh√°ch c√≥ m·ªôt bu·ªïi ti·ªác vui v·∫ª</footer>
</div>

<script>
  const SHEET_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTnWMIpqfGOMbFPWl4_8JIBEpqnv71DmrsBimq6bxEQO8FAPVeI1X2NuVqFH-qxmBn9TPs5e2eunJ7O/pub?gid=0&single=true&output=csv";
  const data = {};

  fetch(SHEET_URL)
    .then(res => res.text())
    .then(text => {
      text.trim().split(/\r?\n/).forEach(line => {
        const [user, ban, mayman] = line.split(',');
        if (user && ban) data[user.trim().toLowerCase()] = { ban: ban.trim(), mayman: mayman?.trim() };
      });
    });

  function traCuu() {
    document.querySelectorAll('.table').forEach(t => t.classList.remove('highlight'));
    const user = document.getElementById('username').value.trim().toLowerCase();
    const info = data[user];

    if (!info) {
      document.getElementById('result').innerHTML = '<span class="error">‚ùå Kh√¥ng t√¨m th·∫•y th√¥ng tin</span>';
      return;
    }

    const table = document.querySelector(`.table[data-ban="${info.ban}"]`);
    if (table) table.classList.add('highlight');

    document.getElementById('result').innerHTML = `üéâ <b>${user}</b> ‚Äì B√†n <b>${info.ban}</b><br>üçÄ S·ªë may m·∫Øn: <b>${info.mayman || '‚Äî'}</b>`;
  }
</script>
</body>
</html>
