<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tra c·ª©u b√†n ti·ªác</title>

<style>
body{
  font-family:Segoe UI,Tahoma,sans-serif;
  background:linear-gradient(135deg,#dcfce7,#bbf7d0);
  min-height:100vh;
  margin:0;
  display:flex;
  justify-content:center;
  align-items:center;
}
.container{
  background:#fff;
  max-width:540px;
  width:100%;
  border-radius:24px;
  box-shadow:0 25px 50px rgba(0,0,0,.15);
  overflow:hidden;
}
header{
  background:linear-gradient(135deg,#16a34a,#22c55e);
  color:#fff;
  padding:20px;
  text-align:center;
}
.content{padding:20px}
input,button{
  width:100%;
  padding:12px;
  font-size:16px;
  border-radius:14px;
  border:1px solid #bbf7d0;
  box-sizing:border-box;
}
button{
  background:linear-gradient(135deg,#16a34a,#4ade80);
  color:#fff;
  border:none;
  font-weight:600;
  cursor:pointer;
  margin-top:8px;
}
.result{
  margin-top:10px;
  padding:12px;
  background:#ecfdf5;
  border-radius:12px;
  text-align:center;
}
.note{
  margin-top:10px;
  font-size:13px;
  background:#ecfdf5;
  border-left:4px solid #22c55e;
  padding:8px 10px;
  border-radius:8px;
}
.hall{
  margin-top:18px;
  padding:14px;
  border:3px dashed #22c55e;
  border-radius:20px;
  background:#f0fdf4;
  transform:scale(.85);
}
.stage{
  background:#15803d;
  color:#fff;
  text-align:center;
  padding:8px;
  border-radius:12px;
  font-weight:700;
}
.row{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:14px;
  margin:14px 0;
}
.lanes{
  display:flex;
  gap:18px;
}
.aisle{
  width:60px;
  text-align:center;
  font-size:11px;
  font-weight:600;
  color:#166534;
}
.table{
  width:60px;
  height:36px;
  background:#dcfce7;
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:600;
  color:#166534;
}
.table.highlight{
  background:#22c55e;
  color:#fff;
  box-shadow:0 0 16px rgba(34,197,94,.9);
}
.entrance{
  background:#facc15;
  text-align:center;
  padding:8px;
  border-radius:12px;
  font-weight:700;
}
</style>
</head>

<body>
<div class="container">
<header>
<h3>üåø Tra c·ª©u b√†n ti·ªác</h3>
<p>Nh·∫≠p t√™n kh√°ch ƒë·ªÉ xem v·ªã tr√≠</p>
</header>

<div class="content">
<input id="username" placeholder="Nh·∫≠p t√™n kh√°ch">
<button onclick="traCuu()">Tra c·ª©u</button>

<div id="result" class="result"></div>

<div class="note">üìå Vui l√≤ng ch·ª•p m√†n h√¨nh sau khi tra c·ª©u</div>

<div class="hall">
<div class="stage">S√ÇN KH·∫§U</div>

<!-- H√ÄNG 1 ‚Üí 6 (24 B√ÄN) -->
<script>
let ban = 1;
for(let h=1; h<=6; h++){
  document.write(`
    <div class="row">
      <div class="lanes">
        <div class="table" data-ban="${ban}">${ban++}</div>
        <div class="table" data-ban="${ban}">${ban++}</div>
      </div>
      <div class="aisle">L·ªêI ƒêI</div>
      <div class="lanes">
        <div class="table" data-ban="${ban}">${ban++}</div>
        <div class="table" data-ban="${ban}">${ban++}</div>
      </div>
    </div>
  `);
}
</script>

<!-- H√ÄNG 7 -->
<div class="row">
  <div class="lanes">
    <div class="table" data-ban="25">25</div>
    <div class="table" data-ban="26">26</div>
  </div>
  <div class="aisle">L·ªêI ƒêI</div>
  <div class="lanes">
    <div class="table" data-ban="27">27</div>
  </div>
</div>

<div class="entrance">C·ª¨A RA V√ÄO</div>
</div>
</div>
</div>

<script>
const SHEET_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vReo557WJ8YlXpCjOrv1RwmBOWksCqGwUZF1i9mS7y1DLHCjjaJ6Fsp9viEoSUvW7bOsj_0FDCM9CHA/pub?gid=1299646787&single=true&output=csv";

const users = {};

fetch(SHEET_CSV_URL)
.then(r=>r.text())
.then(t=>{
  t.trim().split(/\r?\n/).slice(1).forEach(l=>{
    const [u,b,lucky] = l.split(',');
    if(!u) return;
    users[u.trim().toLowerCase()] = { ban:b, lucky:lucky };
  });
});

function traCuu(){
  document.querySelectorAll(".table").forEach(t=>t.classList.remove("highlight"));
  const name = document.getElementById("username").value.trim().toLowerCase();
  const u = users[name];
  if(!u){
    result.innerHTML = "‚ùå Kh√¥ng t√¨m th·∫•y th√¥ng tin";
    return;
  }
  document.querySelector(`.table[data-ban="${u.ban}"]`)?.classList.add("highlight");
  result.innerHTML = `üéâ <b>${name}</b><br>B√†n <b>${u.ban}</b><br>üçÄ S·ªë may m·∫Øn: <b>${u.lucky||"-"}</b>`;
}
</script>

</body>
</html>
